# Horoscope Bot — Telegram-бот для персонального ежедневного гороскопа

## Обзор
Horoscope Bot — это Telegram-бот, который предоставляет пользователям персональные ежедневные гороскопы на основе их даты рождения. Он использует OpenAI GPT-3.5-turbo для генерации астрологических прогнозов и поддерживает голосовой вывод для удобства использования. Бот прост в использовании и создаёт приятный пользовательский опыт.

---

## Функционал
- **Персональный ежедневный гороскоп**: Получайте уникальные ежедневные прогнозы, вводя свою дату рождения.
- **Голосовой вывод**: Гороскоп отправляется также в виде голосового сообщения с детской интонацией.
- **Обработка естественного языка**: Использует OpenAI для обеспечения точности и интересных прогнозов.
- **Проверка даты**: Убедитесь, что вы вводите дату рождения в формате `ДД.ММ.ГГГГ`.
- **Обработка ошибок**: Предоставляет понятные сообщения в случае неправильного ввода или системных ошибок.

---

## Структура проекта
```
Horoscope_Bot/
├── .venv/                 # Папка виртуального окружения
├── .env                   # Файл с переменными окружения
├── .gitignore             # Файл игнорирования Git
├── bot.py                 # Основной скрипт бота
├── LICENSE                # Лицензия проекта
├── README.md              # Документация проекта
├── requirements.txt       # Зависимости проекта
├── test_openai.py         # Скрипт для тестирования OpenAI
```

---

## Настройка проекта

### 1. Требования
- Python 3.8+
- Токен Telegram Bot API
- API-ключ OpenAI

### 2. Клонирование репозитория
```bash
git clone <repository_url>
cd Horoscope_Bot
```

### 3. Создание виртуального окружения
```bash
python -m venv .venv
source .venv/bin/activate  # Для Unix
.venv\Scripts\activate    # Для Windows
```

### 4. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 5. Настройка переменных окружения
Создайте файл `.env` в корневой директории и добавьте следующие переменные:
```
OPENAI_API_KEY=ваш_api_ключ_openai
OPENAI_API_BASE=ваш_base_url_openai
TELEGRAM_BOT_TOKEN=ваш_токен_telegram_bot
```

### 6. Запуск бота
```bash
python bot.py
```

---

## Использование
- **Запуск бота**: В Telegram отправьте `/start`, чтобы начать.
- **Ввод даты рождения**: Введите дату рождения в формате `ДД.ММ.ГГГГ`.
- **Получение гороскопа**: Бот ответит гороскопом в голосовом формате.
- **Обработка ошибок**: В случае неверного ввода бот подскажет, что нужно ввести дату в правильном формате.

---

## Тестирование интеграции OpenAI
Вы можете протестировать соединение с OpenAI с помощью скрипта `test_openai.py`:
```bash
python test_openai.py
```
Если всё настроено правильно, вы увидите ответ от OpenAI.

---

## Ключевые файлы

### `bot.py`
Основной скрипт, который отвечает за:
- Инициализацию Telegram-бота.
- Обработку сообщений от пользователей.
- Взаимодействие с OpenAI API.
- Отправку текстовых и голосовых ответов пользователям.

### `test_openai.py`
Утилита для проверки работы API-ключей и точек доступа OpenAI.

---

## Зависимости
Зависимости перечислены в файле `requirements.txt`. Ключевые библиотеки:
- `telebot`: Для взаимодействия с API Telegram.
- `openai`: Для генерации гороскопов.
- `gTTS`: Для преобразования текста в речь.
- `python-dotenv`: Для управления переменными окружения.

Установите их с помощью команды:
```bash
pip install -r requirements.txt
```

---

## Пример взаимодействия
1. **Пользователь**: /start
   **Бот**: "Привет! Я бот, работающий с OpenAI. Введите вашу дату рождения в формате ДД.ММ.ГГГГ, чтобы получить гороскоп на один день."

2. **Пользователь**: 25.01.1990
   **Бот**: Отправляет гороскоп на день запроса в  голосовом формате.

3. **Пользователь**: Некорректный ввод (например, "Привет")
   **Бот**: "Пожалуйста, введите дату рождения в формате ДД.ММ.ГГГГ."

---

## Лицензия
Этот проект распространяется под лицензией MIT.

---

## Авторы
Татьяна - разработчик и создатель Horoscope Bot.

---

## Будущие улучшения
- Добавить поддержку нескольких языков.
- Предоставлять еженедельные и месячные гороскопы.
- Настроить прогнозы на основе знаков зодиака.

---

Приятного использования Horoscope Bot для ваших ежедневных астрологических прогнозов!



